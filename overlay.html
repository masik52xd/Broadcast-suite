<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Stream Overlay Pro v4 - Fixed Neon</title>
    <style>
        :root {
            --neon-color: #bc13fe;
            --neon-secondary: #00f2ff;
            --bg-glass: rgba(5, 5, 10, 0.95);
        }

        body {
            margin: 0; padding: 0; overflow: hidden;
            font-family: 'Segoe UI', sans-serif;
            background: transparent;
            height: 100vh; width: 100vw;
        }

        /* АДМІНКА */
        #admin {
            position: fixed; top: 10px; right: 10px;
            background: #0f172a; color: white; padding: 15px;
            border-radius: 8px; z-index: 9999; width: 300px;
            border: 2px solid var(--neon-color);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .tab-btn { padding: 8px; cursor: pointer; background: #334155; border: none; color: white; border-radius: 4px; width: 48%; }
        .tab-btn.active { background: var(--neon-color); box-shadow: 0 0 10px var(--neon-color); }

        input, button { width: 100%; margin: 5px 0; padding: 8px; border-radius: 4px; border: 1px solid #334155; background: #1e293b; color: white; box-sizing: border-box; }
        button { background: var(--neon-color); font-weight: bold; cursor: pointer; border: none; }

        /* --- ТИП 1: СТАТИЧНИЙ НЕОН (ВИПРАВЛЕНО) --- */
        #static-container {
            position: fixed; bottom: 50px; left: 50%;
            transform: translateX(-50%);
            display: none;
        }

        .neon-banner {
            background: #000;
            padding: 20px 60px;
            border-radius: 8px;
            text-align: center;
            min-width: 550px;
            /* Справжній неон через border та box-shadow */
            border: 3px solid var(--neon-color);
            box-shadow: 
                0 0 10px var(--neon-color),
                0 0 25px var(--neon-color),
                inset 0 0 15px var(--neon-color);
            animation: neon-pulse 2s ease-in-out infinite alternate;
        }

        @keyframes neon-pulse {
            from { box-shadow: 0 0 10px var(--neon-color), 0 0 20px var(--neon-color), inset 0 0 10px var(--neon-color); }
            to { box-shadow: 0 0 15px var(--neon-color), 0 0 40px var(--neon-color), inset 0 0 20px var(--neon-color); }
        }

        .s-title { 
            font-size: 36px; font-weight: 900; color: white; margin: 0; 
            text-transform: uppercase; letter-spacing: 2px;
            text-shadow: 0 0 10px var(--neon-color);
        }
        .s-promo { 
            font-size: 18px; color: var(--neon-secondary); font-weight: bold; 
            margin-top: 8px; text-shadow: 0 0 8px var(--neon-secondary);
        }

        /* --- ТИП 2: ДИНАМІЧНИЙ БАНЕР (ВИПРАВЛЕНО) --- */
        #dynamic-container { position: fixed; bottom: 50px; left: 50px; }

        .dyn-box {
            background: var(--bg-glass);
            border: 2px solid var(--neon-color);
            padding: 15px 35px;
            border-radius: 12px;
            color: white;
            box-shadow: 0 0 20px var(--neon-color);
            transform: translateX(-150%);
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            opacity: 0;
        }

        .dyn-box.show { transform: translateX(0); opacity: 1; }

        .dyn-label { font-size: 13px; color: var(--neon-secondary); font-weight: 900; letter-spacing: 3px; text-transform: uppercase; margin-bottom: 5px; }
        .dyn-text { font-size: 24px; font-weight: 700; }

        .badge { background: #16a34a; font-size: 10px; padding: 2px 5px; border-radius: 3px; display: none; }
    </style>
</head>
<body>

<div id="admin">
    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
        <button class="tab-btn active" id="btn-dyn" onclick="switchMode('dynamic')">Динамічна</button>
        <button class="tab-btn" id="btn-stat" onclick="switchMode('static')">Статична</button>
    </div>

    <!-- Налаштування кольору -->
    <label style="font-size: 11px;">Колір неону:</label>
    <input type="color" id="color-neon" value="#bc13fe" oninput="changeColor()">

    <div id="setup-static" style="display:none">
        <label>Текст 1:</label>
        <input type="text" id="in-s-title" value="MAKEIT — COMPETITIVE" oninput="updateStatic()">
        <label>Текст 2:</label>
        <input type="text" id="in-s-promo" value="CODE: MAKEIT2025" oninput="updateStatic()">
    </div>

    <div id="setup-dynamic">
        <label>Мітка (AD, TG, INFO):</label>
        <input type="text" id="in-d-label" value="INFO">
        <label>Текст оголошення:</label>
        <input type="text" id="in-d-text" placeholder="Що показати?">
        <button onclick="addToQueue()">Додати в чергу</button>
        
        <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #334155;">
            <label><input type="checkbox" id="in-cycle" onchange="updateStatus()"> Циклічний режим</label><br>
            <label>Показ (сек): <input type="number" id="in-duration" value="6" style="width: 50px;"></label>
            <label>Пауза (сек): <input type="number" id="in-pause" value="8" style="width: 50px;"></label>
        </div>
        <div id="q-status" style="font-size: 11px; color: #94a3b8; margin-top: 5px;">В черзі: 0 <span class="badge" id="cycle-badge">CYCLE ON</span></div>
    </div>
    
    <button onclick="this.parentElement.style.display='none'" style="background: #475569; margin-top: 10px;">Приховати (Interact)</button>
</div>

<!-- ТИП 1 -->
<div id="static-container">
    <div class="neon-banner">
        <div class="s-title" id="out-s-title">MAKEIT — COMPETITIVE</div>
        <div class="s-promo" id="out-s-promo">CODE: MAKEIT2025</div>
    </div>
</div>

<!-- ТИП 2 -->
<div id="dynamic-container">
    <div id="dyn-box" class="dyn-box">
        <div class="dyn-label" id="out-d-label">INFO</div>
        <div class="dyn-text" id="out-d-text"></div>
    </div>
</div>

<script>
    let queue = [];
    let isPlaying = false;
    let mode = 'dynamic';

    function changeColor() {
        const color = document.getElementById('color-neon').value;
        document.documentElement.style.setProperty('--neon-color', color);
    }

    function switchMode(newMode) {
        mode = newMode;
        document.getElementById('btn-dyn').classList.toggle('active', mode === 'dynamic');
        document.getElementById('btn-stat').classList.toggle('active', mode === 'static');
        
        document.getElementById('static-container').style.display = (mode === 'static') ? 'block' : 'none';
        document.getElementById('setup-static').style.display = (mode === 'static') ? 'block' : 'none';
        document.getElementById('setup-dynamic').style.display = (mode === 'dynamic') ? 'block' : 'none';
    }

    function updateStatic() {
        document.getElementById('out-s-title').innerText = document.getElementById('in-s-title').value;
        document.getElementById('out-s-promo').innerText = document.getElementById('in-s-promo').value;
    }

    function addToQueue() {
        const text = document.getElementById('in-d-text').value;
        const label = document.getElementById('in-d-label').value;
        if (text) {
            queue.push({ label, text });
            document.getElementById('in-d-text').value = '';
            updateStatus();
            if (!isPlaying) playQueue();
        }
    }

    function updateStatus() {
        document.getElementById('q-status').childNodes[0].nodeValue = `В черзі: ${queue.length} `;
        document.getElementById('cycle-badge').style.display = document.getElementById('in-cycle').checked ? 'inline' : 'none';
    }

    async function playQueue() {
        if (queue.length === 0 || mode !== 'dynamic') {
            isPlaying = false;
            return;
        }

        isPlaying = true;
        const current = queue.shift();
        updateStatus();
        
        document.getElementById('out-d-label').innerText = current.label;
        document.getElementById('out-d-text').innerText = current.text;
        
        const box = document.getElementById('dyn-box');
        box.classList.add('show');
        
        const duration = parseInt(document.getElementById('in-duration').value) * 1000;
        await new Promise(r => setTimeout(r, duration));
        
        box.classList.remove('show');

        if (document.getElementById('in-cycle').checked) {
            queue.push(current);
            updateStatus();
        }
        
        const pause = parseInt(document.getElementById('in-pause').value) * 1000;
        await new Promise(r => setTimeout(r, pause));
        
        playQueue();
    }
</script>

</body>
</html>